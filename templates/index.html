{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-lg-8 col-lg-offset-2">

        <!-- Форма загрузки -->
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title text-center"> Загрузка изображений</h3>
            </div>
            <div class="panel-body">

                {% if error %}
                <div class="alert alert-dismissible alert-danger">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    <strong>Ошибка!</strong> {{ error }}
                </div>
                {% endif %}

                <form action="/blend" method="post" enctype="multipart/form-data" class="form-horizontal" id="blendForm">

                    <!-- Изображение 1 -->
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Первое изображение:</label>
                        <div class="col-lg-9">
                            <input type="file" class="form-control" name="image1" accept="image/*" required>
                            <span class="help-block">Выберите первое изображение (JPG, PNG, JPEG)</span>
                        </div>
                    </div>

                    <!-- Изображение 2 -->
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Второе изображение:</label>
                        <div class="col-lg-9">
                            <input type="file" class="form-control" name="image2" accept="image/*" required>
                            <span class="help-block">Выберите второе изображение (JPG, PNG, JPEG)</span>
                        </div>
                    </div>

                    <!-- Ползунок смешивания -->
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Коэффициент смешивания:</label>
                        <div class="col-lg-9">
                            <input type="range" class="form-control" id="alpha" name="alpha" min="0" max="1" step="0.1" value="0.5"
                                   oninput="alphaValue.value = this.value">
                            <div class="text-center" style="margin-top: 10px;">
                                <output id="alphaValue" class="btn btn-info btn-sm">0.5</output>
                            </div>
                            <span class="help-block">
                                0 = полное второе изображение, 0.5 = равное смешивание, 1 = полное первое изображение
                            </span>
                        </div>
                    </div>

                    <!-- reCAPTCHA -->
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Проверка безопасности:</label>
                        <div class="col-lg-9">
                            <div class="g-recaptcha" data-sitekey="{{ recaptcha_site_key }}"></div>
                            <input type="hidden" name="recaptcha_response" id="recaptchaResponse">
                            <span class="help-block">Подтвердите, что вы не робот</span>
                        </div>
                    </div>

                    <!-- Кнопка отправки -->
                    <div class="form-group">
                        <div class="col-lg-12 text-center">
                            <button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
                                <span class="glyphicon glyphicon-wrench"></span> Смешать изображения
                            </button>
                        </div>
                    </div>

                </form>
            </div>
        </div>

    </div>
</div>
{% endblock %}